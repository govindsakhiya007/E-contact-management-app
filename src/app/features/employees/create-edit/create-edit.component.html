<form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
	<ng-wizard [config]="ngWizardConfig" (stepChanged)="stepChanged($event)">
		<ng-wizard-step title="Step 1" description="General Details">

			<h5>General Details</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<div class="form-group">
						<label for="global_ID">Global ID*</label>
						<div class="input-group">
							<input type="text" class="form-control" id="global_ID" formControlName="global_ID" required readonly>
							<div class="input-group-append">
								<button type="button" class="btn btn-outline-secondary" (click)="generateGlobalId()">Generate</button>
							</div>
						</div>
						<div *ngIf="employeeForm.get('global_ID').invalid && (employeeForm.get('global_ID').touched)" class="text-danger">
							Global ID is required.
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<label for="unit_Id" class="form-label">Unit ID</label>
					<input formControlName="unit_Id" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('unit_Id')?.invalid && employeeForm.get('unit_Id')?.touched" class="text-danger">
					Unit ID is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="employee_type" class="form-label">Employee Type</label>
					<input formControlName="employee_type" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('employee_type')?.invalid && employeeForm.get('employee_type')?.touched" class="text-danger">
					Employee Type is required.
					</div>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="employee_Id" class="form-label">Employee ID</label>
					<input formControlName="employee_Id" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('employee_Id')?.invalid && employeeForm.get('employee_Id')?.touched" class="text-danger">
						Employee ID is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="salute" class="form-label">Salute</label>
					<select formControlName="salute" class="form-select" required>
						<option value="">-- Select Salute --</option>
						<option value="mr">Mr</option>
						<option value="mrs">Mrs</option>
					</select>
					<div *ngIf="employeeForm.get('salute')?.invalid && employeeForm.get('salute')?.touched" class="text-danger">
						Salute is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="first_name" class="form-label">First Name</label>
					<input formControlName="first_name" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('first_name')?.invalid && employeeForm.get('first_name')?.touched" class="text-danger">
						First Name is required.
					</div>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="middle_name" class="form-label">Middle Name</label>
					<input formControlName="middle_name" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="last_name" class="form-label">Last Name</label>
					<input formControlName="last_name" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('last_name')?.invalid && employeeForm.get('last_name')?.touched" class="text-danger">
						Last Name is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="gender" class="form-label">Gender</label>
					<select formControlName="gender" class="form-select" required>
						<option value="">-- Select Gender --</option>
						<option value="male">Male</option>
						<option value="female">Female</option>
						<option value="other">Other</option>
					</select>
					<div *ngIf="employeeForm.get('gender')?.invalid && employeeForm.get('gender')?.touched" class="text-danger">
						Gender is required.
					</div>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="email" class="form-label">Email ID</label>
					<input formControlName="email" type="email" class="form-control" required>
					<div *ngIf="employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched" class="text-danger">
						<ng-container *ngIf="employeeForm.get('email')?.errors?.['required']">Email is required.</ng-container>
						<ng-container *ngIf="employeeForm.get('email')?.errors?.['email']">Invalid email format.</ng-container>
					</div>
				</div>
				<div class="col-md-4">
					<label for="mobile" class="form-label">Mobile No</label>
					<input formControlName="mobile" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('mobile')?.invalid && employeeForm.get('mobile')?.touched" class="text-danger">
						<ng-container *ngIf="employeeForm.get('mobile')?.errors?.['required']">Mobile number is required.</ng-container>
						<ng-container *ngIf="employeeForm.get('mobile')?.errors?.['pattern']">Invalid mobile number.</ng-container>
					</div>
				</div>
				<div class="col-md-4">
					<label for="window_login_Id" class="form-label">Window Login ID</label>
					<input formControlName="window_login_Id" type="text" class="form-control">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="domain_name" class="form-label">Domain Name</label>
					<input formControlName="domain_name" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="direct_indirect" class="form-label">Direct/Indirect</label>
					<select formControlName="direct_indirect" class="form-select" required>
						<option value="">-- Select Direct/Indirect --</option>
						<option value="direct">Direct</option>
						<option value="Indirect">Indirect</option>
					</select>
					<div *ngIf="employeeForm.get('direct_indirect')?.invalid && employeeForm.get('direct_indirect')?.touched" class="text-danger">
						Direct/Indirect is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="deputation_start_date" class="form-label">Deputation Start Date</label>
					<input formControlName="deputation_start_date" type="date" class="form-control">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="deputation_end_date" class="form-label">Deputation End Date</label>
					<input formControlName="deputation_end_date" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="deputation_location" class="form-label">Deputation Location</label>
					<select formControlName="deputation_location" class="form-select">
						<option value="">-- Select Location --</option>
						<option value="loc_1">Location A</option>
						<option value="loc_2">Location B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="shift_rule" class="form-label">Shift Rule</label>
					<select formControlName="shift_rule" class="form-select">
						<option value="">-- Select Shift Rule --</option>
						<option value="day">Day</option>
						<option value="night">Night</option>
					</select>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="remarks" class="form-label">Remarks</label>
					<input formControlName="remarks" type="text" class="form-control">
				</div>
				<div col-md-4>
					<label for="profile_img">Upload Image</label>
					<input type="file" (change)="onImageSelected($event)" accept="image/*" class="form-control" id="profile_img">
					<div *ngIf="imagePreview" class="mt-2">
						<img [src]="imagePreview" alt="Employee Image" class="img-thumbnail" width="150">
					</div>
				</div>
			</div>

			<h5>Joining Details</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="interview_date" class="form-label">Interview Date</label>
					<input formControlName="interview_date" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="unit_DOJ" class="form-label">Unit DOJ</label>
					<input formControlName="unit_DOJ" type="date" class="form-control" required>
					<div *ngIf="employeeForm.get('unit_DOJ')?.invalid && employeeForm.get('unit_DOJ')?.touched" class="text-danger">
						Unit DOJ is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="group_DOJ" class="form-label">Group DOJ</label>
					<input formControlName="group_DOJ" type="date" class="form-control" required>
					<div *ngIf="employeeForm.get('group_DOJ')?.invalid && employeeForm.get('group_DOJ')?.touched" class="text-danger">
						Group DOJ is required.
					</div>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="confirmed" class="form-label">Confirmed</label>
					<input formControlName="confirmed" type="checkbox" class="form-check-input">
				</div>
				<div class="col-md-4">
					<label for="confirmation_date" class="form-label">Confirmation Date</label>
					<input formControlName="confirmation_date" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="extended_month" class="form-label">Extended Month</label>
					<input formControlName="extended_month" type="text" class="form-control">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="extended_date_reason" class="form-label">Extended Date Reason</label>
					<select formControlName="extended_date_reason" class="form-select">
						<option value="">-- Select Extended Date Reason --</option>
						<option value="reason_A">Reason A</option>
						<option value="reason_B">Reason B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="current_group_experiences" class="form-label">Current Group Experiences</label>
					<input formControlName="current_group_experiences" type="text" class="form-control">
				</div>
			</div>

			<h5>Current Position</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="department" class="form-label">Department</label>
					<select formControlName="department" class="form-select">
						<option value="">-- Select Department --</option>
						<option value="department_A">Department A</option>
						<option value="department_B">Department B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="select_code" class="form-label">Select Code</label>
					<select formControlName="select_code" class="form-select">
						<option value="">-- Select Code --</option>
						<option value="code_A">Code A</option>
						<option value="code_B">Code B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="designation" class="form-label">Designation</label>
					<select formControlName="designation" class="form-select">
						<option value="">-- Select Designation --</option>
						<option value="designation_A">Designation A</option>
						<option value="designation_B">Designation B</option>
					</select>
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="grade" class="form-label">Grade</label>
					<select formControlName="grade" class="form-select">
						<option value="">-- Select Grade --</option>
						<option value="grade_A">Grade A</option>
						<option value="grade_B">Grade B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="location" class="form-label">Location</label>
					<select formControlName="location" class="form-select">
						<option value="">-- Select Location --</option>
						<option value="location_A">Location A</option>
						<option value="location_B">Location B</option>
					</select>
				</div>
			</div>

			<h5>Separation Details</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="resignation_date" class="form-label">Date of Resignation</label>
					<input formControlName="resignation_date" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="unit_DOL" class="form-label">Unit DOL</label>
					<input formControlName="unit_DOL" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="group_DOL" class="form-label">Group DOL</label>
					<input formControlName="group_DOL" type="date" class="form-control">
				</div>
			</div>

			<div class="row mb-3">
				<div class="col-md-4">
					<label for="reason_for_leaving" class="form-label">Reason for Leaving</label>
					<select formControlName="reason_for_leaving" class="form-select">
						<option value="">-- Select Reason for Leaving --</option>
						<option value="reason_A">Reason A</option>
						<option value="reason_B">Reason B</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="retirement_Date" class="form-label">Date of Retirement</label>
					<input formControlName="retirement_Date" type="date" class="form-control">
				</div>
			</div>
		</ng-wizard-step>

		<ng-wizard-step title="Step 2" description="Personal Details">
			<h5>Personal Details</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="dob" class="form-label">Date of Birth</label>
					<input formControlName="dob" type="date" class="form-control" required>
					<div *ngIf="employeeForm.get('dob')?.invalid && employeeForm.get('dob')?.touched" class="text-danger">
					Date of Birth is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="birth_place" class="form-label">Birth Place</label>
					<input formControlName="birth_place" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="physical_status" class="form-label">Physical Status</label>
					<input formControlName="physical_status" type="text" class="form-control">
				</div>
			</div>
	
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="blood_group" class="form-label">Blood Group</label>
					<select formControlName="blood_group" class="form-select">
					<option value="">-- Select Blood Group --</option>
					<option value="A+">A+</option>
					<option value="A">A-</option>
					<option value="B+">B+</option>
					<option value="B-">B-</option>
					<option value="O+">O+</option>
					<option value="O-">O-</option>
					<option value="AB+">AB+</option>
					<option value="AB-">AB-</option>
					</select>
				</div>
				<div class="col-md-4">
					<label for="national_Id" class="form-label">National ID</label>
					<input formControlName="national_Id" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('national_Id')?.invalid && employeeForm.get('national_Id')?.touched" class="text-danger">
					National ID is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="personal_email" class="form-label">Personal Email ID</label>
					<input formControlName="personal_email" type="email" class="form-control" required>
					<div *ngIf="employeeForm.get('personal_email')?.invalid && employeeForm.get('personal_email')?.touched" class="text-danger">
					<ng-container *ngIf="employeeForm.get('personal_email')?.errors?.['required']">Personal Email is required.</ng-container>
					<ng-container *ngIf="employeeForm.get('personal_email')?.errors?.['email']">Invalid email format.</ng-container>
					</div>
				</div>
			</div>
	
			<h5>Employee Identity</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="pan_no" class="form-label">PAN No</label>
					<input formControlName="pan_no" type="text" class="form-control" required>
					<div *ngIf="employeeForm.get('pan_no')?.invalid && employeeForm.get('pan_no')?.touched" class="text-danger">
					PAN No is required.
					</div>
				</div>
				<div class="col-md-4">
					<label for="aadhar_no" class="form-label">Aadhar No</label>
					<input formControlName="aadhar_no" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="company_PF_no" class="form-label">Company PF No</label>
					<input formControlName="company_PF_no" type="text" class="form-control">
				</div>
				</div>
		
				<div class="row mb-3">
				<div class="col-md-4">
					<label for="pran_number" class="form-label">PRAN Number</label>
					<input formControlName="pran_number" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="labour_card_no" class="form-label">Labour Card No</label>
					<input formControlName="labour_card_no" type="text" class="form-control">
				</div>
			</div>
	
			<h5>Passport & Visa</h5>
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="passport_no" class="form-label">Passport No</label>
					<input formControlName="passport_no" type="text" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="issued_on" class="form-label">Issued On</label>
					<input formControlName="issued_on" type="date" class="form-control">
				</div>
				<div class="col-md-4">
					<label for="valid_upto" class="form-label">Valid Upto</label>
					<input formControlName="valid_upto" type="date" class="form-control">
				</div>
			</div>
		
			<div class="row mb-3">
				<div class="col-md-4">
					<label for="place_Of_issue" class="form-label">Place of Issue</label>
					<input formControlName="place_Of_issue" type="text" class="form-control">
				</div>
			</div>
		</ng-wizard-step>
	</ng-wizard>

	<!-- Step Navigation Buttons -->
	<div class="d-flex justify-content-end mt-3">
		<button type="button" class="btn btn-secondary" *ngIf="!isLastStep()" (click)="goToNextStep()">Next</button>
		<button type="button" class="btn btn-secondary" *ngIf="!isFirstStep()" (click)="goToPreviousStep()">Previous</button>&nbsp;
		<button type="submit" class="btn btn-success" *ngIf="isLastStep()">Submit</button>
	</div>
</form>
